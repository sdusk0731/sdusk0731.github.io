---
layout: single
title: "북스터디 - 대규모 시스템 설계 기초_10장"
categories: 북스터디
tag: [웹 크롤러]
toc: true
toc_sticky: true 
---

# "10장 알림 시스템 설계"

> ### 알림 시스템이란?
> \- 최근 많은 프로그램이 채택한 인기 있는 기능  
> \- 알림 시스템은 모바일 푸시 알림, SMS 메시지, 그리고 이메일의 세 가지로 분류한다.

> ### 1단계_문제 이해 및 설계 범위 확정  
> \- 적절한 질문을 통해 요구사항이 무엇인지 알아내야 한다
> 어떤종류의 알림을 지원해야하나요?  
> 실시간(real-time) 시스템이어야 하나요?  
> 어떤 종류의 단말을 지원해야 하나요?  
> 알림을 받지 않도록(opt-out) 설정할 수도 있어야 하나요?  
> 하루에 몇 건의 알림을 보낼 수 있어야 하나요?  

> ### 2단계_ 개략적 설계안 제시 및 동의 구하기
>> ***알림 유형별 지원 방안***  
>
>> iOS 푸시 알림
>> 알림 제공자(provider)  
>> 알림 요청 (notification request)을 만들어 애플 푸시  
>> 알림 서비스(APNS: Apple Push Notification Service)로 보내는 주체  
>> 단말 토큰(device token): 알림 요청을 보내는 데 필요한 고유 식별자다  
>> 페이로드(payload): 알림 내용을 담은 JSON 딕셔너 리(dictionary)다  
>> APNS: 애플이 제공하는 원격 서비스다. 푸시 알림을 iOS 장치로 보내는 역할  
>> iOS 단말: ： 푸시 알림을 수신하는 사용자 단말
>
>> 안드로이드 푸시 알림  
>> APNS 대신 FCM(FirebaseCloud Messaging)을 사용한다는 점만 다르다  
>
>> SMS 메시지  
>> 트윌리오(Twilio), 넥스모(Nexmo) 같은 제3사업자의 서비스를 많이 이용하며, 상용 서비스라서 이용요금을 내야 한다.
> 
>> 이메일  
>> 상용 이메일 서비스를 이용  
>> 유명한 서비스: 센드그리드, 메일침프  
>> 전송 성공률도 높고, 데이터 분석 서비스(analytics)도 제공  
>
> ***연락처 정보 수집 절차***  
> 알림을 보내려면 모바일 단말 토큰, 전화번호, 이메일 주소 등의 정보가 필요  
> 사용자가 우리 앱을 설치하거나 처음으로 계정을 등록하면 API 서버는 해당 사용자의 정보를 수집하여 데이터베이스에 저장  
> 
>> ***알림 전송 및 수신 절차***  
>> 1부터 N까지의 서비스: 

